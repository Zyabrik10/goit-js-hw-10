{"mappings":"AAEA,MAAMA,EAAaC,SAASC,cAAc,eACpCC,EAAeF,SAASC,cAAc,iBACtCE,EAAeH,SAASC,cAAc,iBAE5CF,EAAWK,iBACT,QACAC,EAAEC,UAAS,KACT,GAAgC,KAA5BP,EAAWQ,MAAMC,OAGnB,OAFAN,EAAaO,UAAY,QACzBN,EAAaM,UAAY,ICXxB,IAAwBC,KDeCX,EAAWQ,MCdhCI,MACH,uCAAuCD,oDAEtCE,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MAAM,KDOvBL,MAAKM,IACR,MAAMC,EAAWD,EAAKE,QAEtB,IAAIC,EAAO,GAEX,GAAwB,IAApBF,EAASG,OAAc,CACzB,MAAMC,EAAUJ,EAAS,GAEnBK,EAAYC,OAAOC,OAAOH,EAAQC,WAAWG,KAAK,MAExDxB,EAAaM,UAAY,qJAGHc,EAAQK,MAAMC,qBAAqBN,EAAQb,KAAKoB,4DAC1CP,EAAQb,KAAKoB,4JAGwBP,EAAQQ,0JAGXR,EAAQS,yJAGNR,qD,MAIvDL,EAASG,OAAS,GAC3BW,SAASC,OAAOC,KACd,+DAGFd,EAAOF,EACJiB,KAAIb,GACI,0EAEWA,EAAQK,MAAMC,qBAAqBN,EAAQb,KAAKoB,2DAC3CP,EAAQb,KAAK2B,gDAIrCV,KAAK,MAERxB,EAAaM,UAAY,IAG3BP,EAAaO,UAAYY,CAAI,IAE9BiB,OAAMC,IACLN,SAASC,OAAOM,QAAQ,4CACxBtC,EAAaO,UAAY,GACzBN,EAAaM,UAAY,EAAE,GAC3B,GACD","sources":["src/index.js","src/js/fetchCountries.js"],"sourcesContent":["import { fetchCountries } from \"./js/fetchCountries.js\";\n\nconst search_box = document.querySelector('#search-box');\nconst country_list = document.querySelector('.country-list');\nconst country_info = document.querySelector('.country-info');\n\nsearch_box.addEventListener(\n  'input',\n  _.debounce(() => {\n    if (search_box.value.trim() === '') {\n      country_list.innerHTML = '';\n      country_info.innerHTML = '';\n      return;\n    }\n\n    const data = fetchCountries(search_box.value);\n    data.then(data => {\n      const countrys = data.slice();\n\n      let list = '';\n\n      if (countrys.length === 1) {\n        const country = countrys[0];\n\n        const languages = Object.values(country.languages).join(', ');\n\n        country_info.innerHTML = `\n          <ul class=\"conutry-info-list list\">\n              <li class=\"conutry-info-item conutry-info-name-flag\">\n                  <img src='${country.flags.svg}' alt=\"flag of ${country.name.official}\" width=\"40\">\n                  <h1 class=\"hed\">${country.name.official}</h1>\n              </li>\n              <li class=\"conutry-info-item\">\n                  <p class=\"par\"><span class=\"info\">Population:</span> ${country.population}</p>\n              </li>\n              <li class=\"conutry-info-item\">\n                  <p class=\"par\"><span class=\"info\">Capital:</span> ${country.capital}</p>\n              </li>\n              <li class=\"conutry-info-item\">\n                  <p class=\"par\"><span class=\"info\">Languages:</span> ${languages}</p>\n              </li>\n          </ul>\n      `;\n      } else if (countrys.length > 10) {\n        Notiflix.Notify.info(\n          'Too many matches found. Please enter a more specific name.'\n        );\n      } else {\n        list = countrys\n          .map(country => {\n            return `\n              <li class=\"country-item\">\n                  <img src='${country.flags.svg}' alt=\"flag of ${country.name.official}\" width=\"25\">\n                  <p class=\"par\">${country.name.common}</p>\n              </li>\n          `;\n          })\n          .join('\\n');\n\n        country_info.innerHTML = '';\n      }\n\n      country_list.innerHTML = list;\n    })\n    .catch(error => {\n      Notiflix.Notify.failure('Oops, there is no country with that name');\n      country_list.innerHTML = '';\n      country_info.innerHTML = '';\n    });\n  }, 300)\n);\n","export function fetchCountries(name){\n    return fetch(\n        `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n      )\n        .then(responce => {\n          if (!responce.ok) {\n            throw new Error(responce.status);\n          }\n  \n          return responce.json();\n        });\n}"],"names":["$1f0dc3b9307be026$var$search_box","document","querySelector","$1f0dc3b9307be026$var$country_list","$1f0dc3b9307be026$var$country_info","addEventListener","_","debounce","value","trim","innerHTML","name","fetch","then","responce","ok","Error","status","json","data","countrys","slice","list","length","country","languages","Object","values","join","flags","svg","official","population","capital","Notiflix","Notify","info","map","common","catch","error","failure"],"version":3,"file":"index.83f592f6.js.map"}